#!/bin/bash

# rm -fr ./testcases/in
# rm -fr ./testcases/out
# mkdir ./testcases/in
# mkdir ./testcases/out

M=(
    # N M
    "5 -1"
    "5 -1"
    "5 -2"
    "5 -2"
    "10 -1"
    "10 -1"
    "10 -1"
    "10 -2"
    "10 -2"
    "10 -2"
    "100 100"
    "100 500"
    "100 3000"
    "100 -1"
    "100 -1"
    "100 -1"
    "500 500"
    "500 1000"
    "500 1000"
    "500 1000"
    "500 3000"
    "500 3000"
    "500 3000"
    "500 -1"
    "500 -1"
    "500 -1"
    "500 -1"
    "500 -1"
    "500 -2"
    "500 -2"
    "1000 1000"
    "1000 1000"
    "1000 1000"
    "1000 3000"
    "1000 3000"
    "1000 3000"
    "1000 3000"
    "1000 3000"
    "1000 -1"
    "1000 -1"
    "1000 -1"
    "1000 -1"
    "1000 -1"
    "1000 -1"
    "1000 -1"
    "1000 -2"
    "1000 -2"
    "3000 0"
    "3000 1"
    "3000 10"
    "3000 100"
    "3000 1000"
    "3000 1000"
    "3000 3000"
    "3000 3000"
    "3000 -1"
    "3000 -1"
    "3000 -1"
    "3000 -2"
    "3000 -2"
    "-1 -1"
    "-1 -1"
    "-1 -1"
    "-1 -1"
    "-1 -1"
    "-1 -2"
    "-1 -2"
    "-1 -2"
)
# N=${#M[@]};

i=1;
for m in "${M[@]}"; do
    j="$i"
    if [ $j -lt 10 ]; then
        j="0$j"
    fi

    tmpfile1=$(mktemp --tmpdir=.)
    echo "testcase-$j $m" > "$tmpfile1";
    ./generator.exe < "$tmpfile1";
    rm "$tmpfile1"

    i=$((i + 1))
    echo $j;
done

./call_verifier.sh
