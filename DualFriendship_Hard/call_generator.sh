#!/bin/bash

# rm -fr ./testcases/in
# rm -fr ./testcases/out
# mkdir ./testcases/in
# mkdir ./testcases/out

M=(
    # N M
    "5 -1"
    "5 -1"
    "5 -1"
    "10 -1"
    "10 -1"
    "10 -1"
    "50 -1"
    "50 -1"
    "100 1000"
    "100 3000"
    "500 500"
    "500 1000"
    "500 1000"
    "500 3000"
    "500 -1"
    "500 -2"
    "500 -2"
    "500 -2"
    "630 500"
    "630 1000"
    "630 1000"
    "630 3000"
    "630 3000"
    "630 5000"
    "630 10000"
    "630 10000"
    "630 30000"
    "630 30000"
    "630 30000"
    "630 50000"
    "630 50000"
    "630 100000"
    "630 100000"
    "630 100000"
    "630 100000"
    "630 190000"
    "630 190000"
    "630 -1"
    "630 -1"
    "630 -1"
    "630 -2"
    "630 -2"
    "630 -2"
    "1000 1000"
    "1000 3000"
    "1000 5000"
    "1000 10000"
    "1000 30000"
    "1000 50000"
    "1000 100000"
    "1000 200000"
    "1000 -1"
    "1000 -1"
    "1000 -1"
    "1000 -1"
    "1000 -2"
    "1000 -2"
    "3000 -1"
    "3000 -1"
    "3000 -2"
    "5000 -1"
    "5000 -1"
    "5000 -2"
    "10000 -1"
    "10000 -1"
    "50000 -1"
    "50000 -1"
    "100000 -1"
    "100000 -1"
    "200000 -1"
    "200000 -1"
    "200000 -2"
    "200000 -2"
    "200000 -2"
    "200000 -2"
    "200000 -2"
    "200000 -2"
    "-1 -1"
    "-1 -1"
    "-1 -1"
    "-1 -1"
    "-1 -1"
    "-1 -2"
    "-1 -2"
)
# N=${#M[@]};

i=1;
for m in "${M[@]}"; do
    j="$i"
    if [ $j -lt 10 ]; then
        j="0$j"
    fi

    tmpfile1=$(mktemp --tmpdir=.)
    echo "testcase-$j $m" > "$tmpfile1";
    ./generator.exe < "$tmpfile1";
    rm "$tmpfile1"

    i=$((i + 1))
    echo $j;
done

./call_verifier.sh
