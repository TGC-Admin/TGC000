#!/bin/bash

# rm -fr ./testcases/in
# rm -fr ./testcases/out
# mkdir ./testcases/in
# mkdir ./testcases/out

M=(
    # N r L p
    "10 -1 100 -1"
    "10 -1 100 -1"
    "10 -1 1000000000 -1"
    "10 -1 1000000000 -1"
    "10 -1 1000000000 -1"
    "10 -1 1000000000 -2"
    "100 -1 50 -1"
    "100 -1 100 -1"
    "100 -1 100 -1"
    "100 -1 1000000000 -1"
    "500 -1 100 -1"
    "500 -1 100 -1"
    "500 -1 100 -2"
    "500 -1 1000000000 -1"
    "1000 -1 5000 -1"
    "1000 -1 100000 -1"
    "1000 -1 10000000 -1"
    "1000 -1 1000000000 -1"
    "1000 -1 1000000000 -1"
    "1000 -1 1000000000 -1"
    "1000 -1 1000000000 -1"
    "1000 -1 1000000000 -2"
    "1000 -1 1000000000 -2"
    "2000 -1 1000000 -1"
    "2000 -1 100000000 -1"
    "2000 -1 1000000000 -1"
    "2000 -1 1000000000 -1"
    "2000 -1 1000000000 -1"
    "2000 -1 1000000000 -1"
    "2000 -1 1000000000 -1"
    "2000 -1 1000000000 -1"
    "2000 -1 1000000000 -2"
    "2000 -1 1000000000 -2"
    "3000 -1 1000000 -1"
    "3000 -1 1000000 -1"
    "3000 -1 10000000 -1"
    "3000 -1 10000000 -1"
    "3000 -1 100000000 -1"
    "3000 -1 100000000 -1"
    "3000 -1 1000000000 -1"
    "3000 -1 1000000000 -1"
    "3000 -1 1000000000 -1"
    "3000 -1 1000000000 -1"
    "3000 -1 1000000000 -1"
    "3000 -1 1000000000 -1"
    "3000 -1 1000000000 -1"
    "3000 -1 1000000000 -2"
    "3000 -1 1000000000 -2"
    "3000 -1 1000000000 -2"
    "-1 -1 1000000000 -1"
    "-1 -1 1000000000 -1"
    "-1 -1 1000000000 -1"
    "-1 -1 1000000000 -1"
    "-1 -1 1000000000 -1"
    "-1 -1 1000000000 -1"
    "-1 -1 1000000000 -1"
    "-1 -1 1000000000 -1"
    "-1 -1 1000000000 -1"
    "-1 -1 1000000000 -2"
    "-1 -1 1000000000 -2"
    "-1 -1 1000000000 -2"
    "-1 -1 1000000000 -2"
    "-1 -1 1000000000 -2"
)
# N=${#M[@]};

i=1;
for m in "${M[@]}"; do
    j="$i"
    if [ $j -lt 10 ]; then
        j="0$j"
    fi

    tmpfile1=$(mktemp --tmpdir=.)
    echo "testcase-$j $m" > "$tmpfile1";
    ./generator.exe < "$tmpfile1";
    rm "$tmpfile1"

    i=$((i + 1))
    echo $j;
done

./call_verifier.sh
./call_solver.sh ./solver1_no-log.exe
